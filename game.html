<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Reality-Check Game | Campus Betting Watch</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;700&family=Lora:wght@400;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="page">
    <nav class="topnav">
      <a class="brand" href="index.html">Campus Betting Watch</a>
      <div class="nav-links">
        <a href="index.html">Home</a>
        <a href="stories.html">Stories</a>
        <a href="causes.html">Causes</a>
        <a href="solutions.html">Solutions</a>
        <a class="active" href="game.html">Game</a>
        <a href="index.html#works-cited">Sources</a>
      </div>
    </nav>

    <header class="hero">
      <div class="hero__copy">
        <p class="eyebrow">Interactive</p>
        <h1>Game</h1>
        <p class="lede">
          A quick quiz that calls out common betting myths, risky app tricks, and real odds behind “free money” promos.
        </p>
        <div class="hero__actions">
          <a class="button button--solid" href="#game">Start the game</a>
          <a class="button button--ghost" href="solutions.html">Jump to solutions</a>
        </div>
      </div>
      <div class="hero__art">
        <div class="orb orb--amber"></div>
        <div class="orb orb--cyan"></div>
        <div class="ticker">
          <p class="ticker__label">Goal</p>
          <div class="ticker__marquee">
            <span>Spot the hooks · Name the risks · Learn fast · Share it with friends</span>
          </div>
        </div>
      </div>
    </header>

    <main class="content">
      <section class="section" id="game">
        <div class="section__label">Game</div>
        <h2>Test what you know about sports betting harms</h2>
        <p>
          Pick an answer for each prompt. You’ll get instant feedback and a final score—use it to start a conversation or run this in a club meeting.
        </p>
        <div class="game-shell">
          <div class="game-meta">
            <span class="pill" id="question-counter">Question 1/12</span>
            <span class="pill pill--muted" id="score-display">Score: 0</span>
            <div class="progress">
              <div class="progress__bar" id="progress-bar" style="width: 0%;"></div>
            </div>
          </div>
          <div class="game-card" id="game-card">
            <p class="game-question" id="game-question"></p>
            <div class="choices" id="choices"></div>
            <div class="feedback" id="feedback" aria-live="polite"></div>
            <div class="game-actions">
              <button class="button button--ghost" id="restart" type="button">Restart</button>
              <button class="button button--solid" id="next" type="button" disabled>Next</button>
            </div>
            <noscript class="feedback">Enable JavaScript to play the quiz.</noscript>
          </div>
        </div>
      </section>
    </main>

    <div class="footer">
      Pair this game with the <a href="stories.html">Stories</a> page so the stats stay human.
    </div>
  </div>

  <script>
    const initGame = () => {
      const questions = [
        {
          prompt: 'Why do “risk-free” or “no sweat” bets often lead to higher losses?',
          choices: [
            'They refund in cash, so players end up with more money.',
            'They use bonus credits that require more wagers, keeping people betting.',
            'They block deposits for 48 hours after you use them.',
            'They improve your odds, so the house loses money.'
          ],
          answer: 1,
          detail: 'Bonus credits lock you into more bets. After early wins, people start using real cash, which is where losses stack up.'
        },
        {
          prompt: 'How does daily fantasy act as a gateway to sports betting?',
          choices: [
            'It bans money, so people never move on',
            'It builds confidence in “strategy,” making betting feel like the natural next step',
            'It requires in-person casino visits first',
            'It makes betting illegal for everyone in the league'
          ],
          answer: 1,
          detail: 'Fantasy games frame picks as skill, so players feel ready for real-money bets even though house odds work against them.'
        },
        {
          prompt: 'Which app design choice makes it hardest to quit?',
          choices: [
            'Slow payouts and long lines',
            'Instant deposits, nonstop notifications, and “nearly won” animations',
            'Daily time locks that force breaks',
            'Hidden bet history that shows only wins'
          ],
          answer: 1,
          detail: 'Instant deposits and flashing, “almost won” animations keep people chasing losses instead of pausing.'
        },
        {
          prompt: 'Why is calling bets “investments” misleading?',
          choices: [
            'Because sportsbooks donate all profits to schools',
            'Because odds are stacked against players, so long-term profit is unlikely',
            'Because bets are insured by banks',
            'Because all winnings are guaranteed after three wagers'
          ],
          answer: 1,
          detail: 'Sportsbooks set odds so the house wins over time. Labeling bets as “investments” hides the built-in losses.'
        },
        {
          prompt: 'Which campus step would cut exposure to sportsbook marketing?',
          choices: [
            'Increase parlay contests at dorms',
            'Pause sportsbook sponsorships and promo boards near games',
            'Hand out more deposit matches during orientation',
            'Add odds tickers to every campus TV'
          ],
          answer: 1,
          detail: 'Removing sponsorships and promo boards near student spaces reduces the constant nudges to download and bet.'
        },
        {
          prompt: 'Which default helps new users avoid losing money fast?',
          choices: [
            'Instant deposits and endless bet boosts',
            'Default deposit caps and cooling-off periods after losses',
            'Auto-enrolling users into parlays',
            'Hiding transaction history so losses feel smaller'
          ],
          answer: 1,
          detail: 'Strong defaults—caps and cool-downs—slow down losses and give people space to quit before debt builds.'
        },
        {
          prompt: 'Why do group chats push parlays so hard?',
          choices: [
            'They lower tuition for everyone in the chat',
            'Parlays are guaranteed wins',
            'Shared hype makes risking more money feel normal and “social”',
            'They remove all house edge'
          ],
          answer: 2,
          detail: 'Parlays become a social activity, so saying “no” can feel like opting out of the group—exactly why pressure builds.'
        },
        {
          prompt: 'In the family story on this site, what happened after a few early wins?',
          choices: [
            'He quit while ahead and never bet again',
            'He got sponsored by a sportsbook',
            'He grew overconfident, raised stakes, and debt followed',
            'He was banned from all apps for winning too much'
          ],
          answer: 2,
          detail: 'Early wins made him think he was skilled, so he raised stakes, chased losses, and slid into debt before family intervened.'
        },
        {
          prompt: 'How can you opt out when friends drop referral codes in the chat?',
          choices: [
            'Say “I’m sitting this out—let’s just watch or play a pickup game instead.”',
            'Join every offer so no one feels bad',
            'Mute the chat forever without explaining',
            'Tell them sportsbooks are charities'
          ],
          answer: 0,
          detail: 'Naming your boundary and offering a non-betting option keeps you in the social circle without feeding the promo cycle.'
        },
        {
          prompt: 'Why add a short gambling literacy module to orientation?',
          choices: [
            'To teach students how to count cards',
            'To normalize betting as part of enrollment',
            'To surface odds, inducements, and warning signs before ads flood their feeds',
            'To promote specific sportsbooks'
          ],
          answer: 2,
          detail: 'A 10-minute primer arms students with the math and red flags before they’re targeted by “free money” promos.'
        },
        {
          prompt: 'Which warning sign shows someone is escalating?',
          choices: [
            'Watching sports without betting',
            'Opening new credit cards or loans to keep betting',
            'Taking breaks after losses',
            'Deleting betting apps'
          ],
          answer: 1,
          detail: 'Covering bets with new credit or loans signals the habit is outrunning someone’s budget and needs intervention.'
        },
        {
          prompt: 'Why are many “responsible gambling” tools mostly optics?',
          choices: [
            'They automatically make you money',
            'Limits are easy to bypass and the app design keeps pulling you back in',
            'They shut down the app after one loss',
            'They refund every bet on request'
          ],
          answer: 1,
          detail: 'Deposit limits and “timeouts” are often optional and reversible, while the core design—instant deposits and alerts—keeps people playing.'
        }
      ];

      const questionEl = document.getElementById('game-question');
      const choicesEl = document.getElementById('choices');
      const feedbackEl = document.getElementById('feedback');
      const nextBtn = document.getElementById('next');
      const restartBtn = document.getElementById('restart');
      const counterEl = document.getElementById('question-counter');
      const scoreEl = document.getElementById('score-display');
      const progressBar = document.getElementById('progress-bar');

      if (!questionEl || !choicesEl || !nextBtn || !restartBtn || !counterEl || !scoreEl || !progressBar) {
        return;
      }

      let currentIndex = 0;
      let score = 0;
      let answered = false;
      let finished = false;

      function renderQuestion() {
        const total = questions.length;
        const current = questions[currentIndex];
        answered = false;
        finished = false;

        counterEl.textContent = `Question ${currentIndex + 1}/${total}`;
        scoreEl.textContent = `Score: ${score}`;
        progressBar.style.width = `${Math.round((currentIndex) / total * 100)}%`;

        questionEl.textContent = current.prompt;
        feedbackEl.textContent = '';
        choicesEl.innerHTML = '';
        nextBtn.textContent = 'Next';
        nextBtn.disabled = true;

        current.choices.forEach((choice, idx) => {
          const btn = document.createElement('button');
          btn.className = 'choice';
          btn.type = 'button';
          btn.textContent = choice;
          btn.addEventListener('click', () => handleChoice(idx));
          choicesEl.appendChild(btn);
        });
      }

      function handleChoice(selectedIndex) {
        if (answered || finished) return;
        answered = true;

        const current = questions[currentIndex];
        const buttons = Array.from(choicesEl.querySelectorAll('.choice'));
        const correctIndex = current.answer;

        buttons.forEach((btn, idx) => {
          btn.disabled = true;
          if (idx === correctIndex) {
            btn.classList.add('choice--correct');
          }
          if (idx === selectedIndex && selectedIndex !== correctIndex) {
            btn.classList.add('choice--incorrect');
          }
        });

        if (selectedIndex === correctIndex) {
          score += 1;
          feedbackEl.textContent = 'Correct! ' + current.detail;
        } else {
          feedbackEl.textContent = 'Not quite. ' + current.detail;
        }

        scoreEl.textContent = `Score: ${score}`;
        nextBtn.textContent = currentIndex === questions.length - 1 ? 'See results' : 'Next question';
        nextBtn.disabled = false;
      }

      function showResults() {
        finished = true;
        answered = true;
        progressBar.style.width = '100%';
        questionEl.textContent = 'You finished the game!';

        const total = questions.length;
        const percent = Math.round((score / total) * 100);
        choicesEl.innerHTML = '';

        const summary = document.createElement('div');
        summary.className = 'result';
        summary.innerHTML = `<p>You scored <strong>${score}/${total}</strong> (${percent}%). Share this game with a friend and see if they can beat your score.</p>`;

        choicesEl.appendChild(summary);
        feedbackEl.textContent = 'Replay to reinforce the warning signs—or head to Solutions for concrete actions.';

        nextBtn.textContent = 'Play again';
        nextBtn.disabled = false;
      }

      function nextQuestion() {
        if (finished) {
          resetGame();
          return;
        }
        if (!answered) return;

        currentIndex += 1;
        if (currentIndex >= questions.length) {
          showResults();
          return;
        }
        renderQuestion();
      }

      function resetGame() {
        currentIndex = 0;
        score = 0;
        answered = false;
        finished = false;
        renderQuestion();
      }

      nextBtn.addEventListener('click', nextQuestion);
      restartBtn.addEventListener('click', resetGame);

      renderQuestion();
    };

    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', initGame);
    } else {
      initGame();
    }
  </script>
</body>
</html>
